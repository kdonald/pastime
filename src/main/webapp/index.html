<!DOCTYPE html>
<html>
  <head>
    <title>Pastime</title>
    <meta charset="utf-8" />
    <meta name="description" content="Spend time doing what you love." />
    <meta name="keywords" content="social, sports, performance, active, activity, game, fun, cloud, SaaS" />
  </head>
  <body>
    <header>
      <hgroup>
        <h1>Pastime</h1>
        <h2>Spend time doing what you love</h2>      
      </hgroup>
    </header>
    <nav>
      <ul>
        <li>
          <a href="settings">Keith Donald</a>
        </li>
      </ul>
    </nav>
    <div id="main">
      <section id="newsFeed"></section>
      <section id="yourLeagues"></section>
      <section id="watchedLeagues"></section>
    </div>
    <footer>
      <p>Pastime &copy; 2011</p>
    </footer>
    <script src="jquery/1.6.2/jquery.js"></script>    
    <script src="handlebars/1.0.0.beta3/handlebars.js"></script>
    <script src="pastime.js"></script>
    <script>
      (function($) {
        var templates = (function() {
          function load(path) {
            var content = $.ajax({ url: path, async: false }).responseText;
            return Handlebars.compile(content);
          }
          return {
            newsFeed: load("newsFeed.hb"),
            yourLeagues: load("yourLeagues.hb"),
            watchedLeagues: load("watchedLeagues.hb")          
          };
        })();
        $("#newsFeed").html(templates.newsFeed({ articles: pastime.getNews() }));
        $("#yourLeagues").html(templates.yourLeagues({ leagues: pastime.getLeagues() }));
        $("#watchedLeagues").html(templates.watchedLeagues({ leagues: pastime.getWatchedLeagues() }));
      })(jQuery);
    </script>   
  </body>
</html>